# 开发计划
1. 研究每一个技术大概如何实现
- 内容:
- - 文件语法解析模块分析
- - 函数检查模块分析
- - 任务取消模块分析(主要是针对TypeScript的多线程编程)
- - 工作区跳转模块分析
- 验收(与上面的模块分析一一对应)
- - 针对多个已经设计好的示例的C语言文件,能够正确输出该文件中的所有函数信息对应的列表(对于有语法错误的文件,输出对应的错误信息).在检查过程中能够输出日志信息(当前正在检查什么函数)
- - 针对上述示例C语言文件的函数信息列表,输出所有文件所有函数存在的问题
- - 在检查模块中添加适量的sleep延长检查时间.当检查功能执行的时候,启动取消模块,检查功能能够自动停止,且检查功能停止后可以输出日志信息"检查已经停止"(其实这里还是不太明白取消功能如何实现如何测试)
- - ddl:2025/11/21(每天一个模块分析,总共四个)
- - 启动工作区跳转模块后,工作区能够自动跳转到对应的位置
2. 编写模块接口文档
- 内容:对于每一个负责的模块,编写一个包含`模块输入`,`模块输出`的接口表格
- - ddl:2025/11/24(三天时间用于编写接口表格)
3. 编写项目线程分析(本项目会进行多线程编程,因此需要进行线程分析)
- - ddl:2025/11/27(三天时间用于线程分析)
4. 编写项目架构
- 内容:编写项目架构并存储到doc-doctor文件夹中
- 验收:编写架构后插件能够正常运行,但是没有任何内容
- - ddl:2025/11/30(三天时间用于编写架构)
5. 按照模块逐步开发每一个模块
- - ddl:2025/12/10(10天开发)

# 开发日志

## 2025/11/19
- 添加了文件语法解析模块分析功能的功能测试。测试函数为analyseFiles.ts文件中的函数.输入文件名后,该函数能正确输出文件中所有函数的相关信息

- 版本问题:确定测试项目中VSCode版本,tree-sitter版本和tree-sitter-c版本.

安装tree-sitter-c时,发现不论询问AI,还是自动使用npm自动安装最新版本,都出现了tree-sitter与安装的tree-sitter版本不兼容的问题.最好的解决方法是:
由于tree-sitter-c的版本依赖于tree-sitter,而tree-sitter的版本则不依赖于任何库,所以可以先安装一个合适的(即有与其功能且稳定够用的)tree-sitter,再在tree-sitter项目下查询其package.json文件,查找与其适配的tree-sitter-c项目版本,最后指定npm安装指定版本即可.
```shell
npm install tree-sitter-c@<版本号>
```



## 2025/11/20
优化仓库目录.现在仓库目录下的out,node_modules等文件夹都不再被跟踪

在git仓库中,如果想让某个文件/文件夹被忽略,而该文件/文件夹又在之前的提交中被提交过,那么需要先使用
```shell
git rm -r --cached <file_or_folder>
```
指令取消仓库对该文件/文件夹的跟踪状态,然后再在.gitignore文件中忽略该文件

## 2025/11/21

- 添加了工作区跳转模块分析功能的功能测试.测试函数为jumpToPosition.ts文件中的函数.输入文件名,行号和列号后,该函数能正确跳转到指定位置

- 添加了函数检查模块分析功能的功能测试.测试函数为checkFunctions.

- 我发现我对模块的测试还不够系统和全面,需要重新设计测试样例并重新测试.

- 模块功能都交由AI写,那么我们做本次项目的意义何在?
- - 模块功能都交给AI写,而我们人类负责架构的编写,这或许就是未来开发的趋向?至少对于简单的开发工作而言,这么做是没问题的.
- - 功能交给AI写,意味着人类在代码层面只会接触到`语言架构`部分的知识(一个语言如何分文件,定义函数并调用函数等).从学习的角度而言,这样的工作能让自己快速上手一个语言的架构知识,但是接触不到更加细致的知识.不过如果自己需要使用某些语言开发一个简单的小项目,也并不需要这样细致的知识.因此完成这样的项目是有助于自己向着预期的方向发展的
- - 对于AI以及上述观点,我还是想请教老师......目前开发到底向着什么样的方向发展才好......我需要注重性能优化?算法优化?内存管理?这些在我的项目中好像都不存在/不重要呀?
- - 对于`语言架构`,或许我可以找一个github上的项目,对比并优化一下我这个项目的架构.
- - 除了架构方面的知识,我还可以从项目中掌握测试相关的知识.`设计数据测试模块`是个值得学习的东西.有没有什么文章/书籍 详细介绍了如何测试模块呢?


- 柯里化函数总结

- - 解决什么问题?
假设analyseFiles是一个函数的名称.当analyseFiles作为参数传入一个函数的时候,正确的格式为:
```ts
exFunction(...,analyseFiles,...)
```
而且这样的格式是非法的
```ts
exFunction(...,analyseFiles(param),...)
```
因为`analyseFiles(param,...)`这个表达式的类型事实上不是函数,而是analyseFiles这个函数的返回值类型.而`exFunction`函数的第二个参数必须是函数,所以语法错误.
这样看来,似乎给analyseFiles函数传入参数是个困难.
- - 解决方案:
编写函数`curriedAnalyseFiles`,内容如下:
```ts
function curriedAnalyseFiles(param){
  return () => {analyseFiles(param)}
}
```
这样就可以按照下面的形式给回调函数传参了
```ts
exFunction(...,curriedAnalyseFiles(param),...)
```
