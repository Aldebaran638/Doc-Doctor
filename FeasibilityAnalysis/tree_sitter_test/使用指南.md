# 两个 .json 文件的相关配置内容

## 1. package.json
```json
{
  "name": "libclang-test",
  "version": "1.0.0",
  "main": "index.js",
  "type": "commonjs",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1",
    "build": "npx tsc main.ts",
    "start": "node main.js",
    "dev": "npx tsc main.ts && node main.js"
  },
  "keywords": [],
  "author": "",
  "license": "ISC",
  "description": "",
  "dependencies": {
    "tree-sitter-cpp": "^0.23.4",
    "typescript": "^5.9.2",
    "web-tree-sitter": "^0.25.10"
  },
  "devDependencies": {
    "@types/emscripten": "^1.41.2",
    "@types/node": "^24.5.2"
  }
}
```

## 2. tsconfig.json
```json
{
  "compilerOptions": {
    "target": "es2015",
    "lib": ["es2015", "es6", "dom", "es2015.iterable", "es2015.symbol"],
    "module": "commonjs",
    "strict": false,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "types": ["node"],
    "moduleResolution": "node",
    "ignoreDeprecations": "6.0"
  }
}
```

## 3. 关键配置说明
- **package.json** 中 `"type": "commonjs"` 必需，确保使用 CommonJS 模块系统
- **tsconfig.json** 中的 `lib` 配置必须包含 `es2015.iterable` 和 `es2015.symbol`
- **tsconfig.json** `skipLibCheck: true` 跳过第三方库类型检查，避免编译错误
- **tsconfig.json** `@types/emscripten` 和 `@types/node` 是必需的类型定义文件

# 安装和运行步骤

1. **创建配置文件，即package.json和tsconfig.json**

2. **安装依赖包**
   ```bash
   npm install web-tree-sitter tree-sitter-cpp typescript
   npm install @types/node @types/emscripten --save-dev
   ```

3. **编译和运行**
   ```bash
   npx tsc main.ts    # 编译 TypeScript 文件
   node main.js       # 运行编译后的 JavaScript 文件
   ```